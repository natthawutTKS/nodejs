kind: pipeline
type: kubernetes
name: MyApp

steps:
  - name: step-1
    image: alpine
    commands:
      - echo "Hello, World!" > output.txt
    artifacts:
      - path: output.txt

  - name: step-2
    image: alpine
    commands:
      - cat output.txt

  # - name: apitotest
  #   image: natthawutsae/api
  #   detach: true
  #   ports:
  #     - 3000
  # - name: run_integration_tests
  #   image: natthawutsae/api
  #   commands:
  #     - "npx cypress run --spec cypress/e2e/healthcheck.cy.js"
  #   depends_on:
  #     - apitotest
